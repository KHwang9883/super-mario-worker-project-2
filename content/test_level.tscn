[gd_scene load_steps=29 format=4 uid="uid://c6beqw4lopqjr"]

[ext_resource type="Script" uid="uid://c7qw0nusd1p15" path="res://script/level/SmwlLevel.cs" id="1_qn4ca"]
[ext_resource type="PackedScene" uid="uid://d2n4sofwy5eyn" path="res://content/block/obstacle.tscn" id="2_676rr"]
[ext_resource type="Script" uid="uid://c8yu81i46jf4r" path="res://script/level/SmwlLoader.cs" id="3_dugfu"]
[ext_resource type="Script" uid="uid://bsg2x1q80u5ee" path="res://script/level/SmwlBlockDataHolder.cs" id="4_85vn0"]
[ext_resource type="Resource" uid="uid://dg3a08a8q43kb" path="res://content/database/block_database.tres" id="5_ho8xc"]
[ext_resource type="TileSet" uid="uid://bnf7dwxlyydri" path="res://content/block/obstacles.tileset.tres" id="6_nyv2h"]
[ext_resource type="TileSet" uid="uid://obv64rtoaukf" path="res://content/block/blocks.tileset.tres" id="7_3v1lj"]
[ext_resource type="Texture2D" uid="uid://dd6j0tdrxhhio" path="res://content/block/obstacle.png" id="8_1mjcm"]
[ext_resource type="Theme" uid="uid://ds3uq7lyxof1e" path="res://content/hud/mw/mw_hud.tres" id="8_bfx67"]
[ext_resource type="Texture2D" uid="uid://celf82o4sjyxr" path="res://content/hud/mw/hud_mw_coin.png" id="8_lgciv"]
[ext_resource type="PackedScene" uid="uid://dwkukt5v4t3p5" path="res://content/player/player.tscn" id="9_hgnsp"]
[ext_resource type="Script" uid="uid://dsl20o7a2l7a0" path="res://script/level/debug/TestLabel.cs" id="10_g7257"]
[ext_resource type="PackedScene" uid="uid://2vuxafdyyhgx" path="res://content/water/water.tscn" id="11_o3hmp"]
[ext_resource type="PackedScene" uid="uid://dm7wuafwjjq1w" path="res://content/enemy/spike/spike_mw.tscn" id="13_dhetq"]
[ext_resource type="PackedScene" uid="uid://dlfbxnforjjvx" path="res://content/enemy/spike/spike_piranha.tscn" id="14_ii7j2"]
[ext_resource type="PackedScene" uid="uid://d2kvp8mnj0j4u" path="res://content/enemy/goomba/goomba.tscn" id="16_lgciv"]
[ext_resource type="PackedScene" uid="uid://cb81b1j6kxba1" path="res://content/bonus/fire_flower/fire_flower.tscn" id="17_d2gt5"]
[ext_resource type="PackedScene" uid="uid://06fvxuvjbor0" path="res://content/bonus/mushroom/mushroom.tscn" id="17_venmc"]
[ext_resource type="PackedScene" uid="uid://bppnp31u6nq6s" path="res://content/bonus/beetroot/beetroot.tscn" id="18_6xv5h"]
[ext_resource type="PackedScene" uid="uid://506l0hik3qda" path="res://content/bonus/lui/lui.tscn" id="19_iae4c"]
[ext_resource type="PackedScene" uid="uid://dhq4p7f4dvkh4" path="res://content/bonus/poisonous_mushroom/poisonous_mushroom.tscn" id="21_dwm8j"]

[sub_resource type="AtlasTexture" id="AtlasTexture_d2gt5"]
atlas = ExtResource("8_lgciv")
region = Rect2(0, 0, 50, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_6xv5h"]
atlas = ExtResource("8_lgciv")
region = Rect2(0, 20, 50, 20)

[sub_resource type="AtlasTexture" id="AtlasTexture_iae4c"]
atlas = ExtResource("8_lgciv")
region = Rect2(0, 40, 50, 20)

[sub_resource type="SpriteFrames" id="SpriteFrames_venmc"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_d2gt5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6xv5h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_iae4c")
}],
"loop": true,
"name": &"default",
"speed": 10.0
}]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_d7yf6"]
texture = ExtResource("8_1mjcm")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, -16, 16, 16, 16, 16, -16)

[sub_resource type="TileSet" id="TileSet_d7yf6"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 1
sources/1 = SubResource("TileSetAtlasSource_d7yf6")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_la3m6"]
size = Vector2(96, 63.53125)

[node name="Node2D" type="Node2D"]

[node name="Disabled" type="Node2D" parent="."]
process_mode = 4
script = ExtResource("1_qn4ca")

[node name="SMWL Loader" type="Node" parent="Disabled"]
script = ExtResource("3_dugfu")
metadata/_custom_type_script = "uid://c8yu81i46jf4r"

[node name="Block Holder" type="Node" parent="Disabled"]
script = ExtResource("4_85vn0")
Database = ExtResource("5_ho8xc")

[node name="Obstacle Tile Map" type="TileMapLayer" parent="Disabled"]
tile_set = ExtResource("6_nyv2h")

[node name="Block Tile Map" type="TileMapLayer" parent="Disabled"]
tile_set = ExtResource("7_3v1lj")
collision_enabled = false

[node name="Open SMWL File" type="FileDialog" parent="Disabled"]
oversampling_override = 1.0
title = "Open a File"
file_mode = 0
use_native_dialog = true

[node name="TestNode2D" type="Node2D" parent="."]

[node name="HUD" type="CanvasLayer" parent="TestNode2D"]

[node name="Control" type="Control" parent="TestNode2D/HUD"]
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 32.0
offset_top = 10.0
offset_right = -22.0
offset_bottom = -12.0
grow_horizontal = 2
grow_vertical = 2

[node name="Life" type="Label" parent="TestNode2D/HUD/Control"]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("8_bfx67")
text = "Mario 3
0"
uppercase = true

[node name="LevelTitle" type="Label" parent="TestNode2D/HUD/Control"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.33
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("8_bfx67")
text = "LEGEND
?-?"
horizontal_alignment = 1
uppercase = true

[node name="Time" type="Label" parent="TestNode2D/HUD/Control"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.92
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("8_bfx67")
text = "Time
233"
horizontal_alignment = 1
uppercase = true

[node name="Coin" type="Label" parent="TestNode2D/HUD/Control"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.303
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("8_bfx67")
text = "0"
uppercase = true

[node name="HUDCoin" type="AnimatedSprite2D" parent="TestNode2D/HUD/Control"]
position = Vector2(167, 14)
sprite_frames = SubResource("SpriteFrames_venmc")
autoplay = "default"

[node name="HUDFontTest" type="Label" parent="TestNode2D/HUD/Control"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("8_bfx67")
theme_override_font_sizes/font_size = 10
text = "HUD Test

aaa
bbb
iii
ai bi ib ia
abcdefghijklmnopqrstuvwxyz

0123456789"
horizontal_alignment = 1
uppercase = true

[node name="DebugCanvasLayer" type="CanvasLayer" parent="TestNode2D"]

[node name="DebugLabel" type="Label" parent="TestNode2D/DebugCanvasLayer" node_paths=PackedStringArray("_player")]
offset_left = 8.0
offset_top = 8.0
offset_right = 344.0
offset_bottom = 40.0
theme = ExtResource("8_bfx67")
text = "Mario Position and Velocity."
uppercase = true
script = ExtResource("10_g7257")
_player = NodePath("../../Mario")

[node name="TestTileMapLayer" type="TileMapLayer" parent="TestNode2D"]
tile_map_data = PackedByteArray("AAACAA4AAQAAAAAAAAADAA4AAQAAAAAAAAAEAA4AAQAAAAAAAAAFAA4AAQAAAAAAAAAGAA4AAQAAAAAAAAAHAA4AAQAAAAAAAAAIAA4AAQAAAAAAAAAJAA4AAQAAAAAAAAAKAA4AAQAAAAAAAAAMAA4AAQAAAAAAAAARAA4AAQAAAAAAAAAQAA4AAQAAAAAAAAAPAA4AAQAAAAAAAAAOAA4AAQAAAAAAAAANAA4AAQAAAAAAAAATAA0AAQAAAAAAAAATAAwAAQAAAAAAAAASAAwAAQAAAAAAAAASAAsAAQAAAAAAAAARAAsAAQAAAAAAAAAQAAsAAQAAAAAAAAAQAAwAAQAAAAAAAAAQAA0AAQAAAAAAAAARAA0AAQAAAAAAAAASAA0AAQAAAAAAAAARAAwAAQAAAAAAAAAPAA0AAQAAAAAAAAAPAAwAAQAAAAAAAAAOAA0AAQAAAAAAAAARAAoAAQAAAAAAAAASAAoAAQAAAAAAAAATAAoAAQAAAAAAAAATAAkAAQAAAAAAAAASAAkAAQAAAAAAAAATAAsAAQAAAAAAAAAUAA0AAQAAAAAAAAAUAAwAAQAAAAAAAAAUAAsAAQAAAAAAAAAUAAoAAQAAAAAAAAAUAAkAAQAAAAAAAAAUAAgAAQAAAAAAAAATAAgAAQAAAAAAAAASAAgAAQAAAAAAAAAcAA0AAQAAAAAAAAAcAA4AAQAAAAAAAAAjAA0AAQAAAAAAAAAjAA4AAQAAAAAAAAAdAAkAAQAAAAAAAAAeAAkAAQAAAAAAAAAfAAkAAQAAAAAAAAAgAAkAAQAAAAAAAAAhAAkAAQAAAAAAAAAiAAkAAQAAAAAAAAAkAA0AAQAAAAAAAAAlAA0AAQAAAAAAAAAmAA0AAQAAAAAAAAAnAA0AAQAAAAAAAAAoAA0AAQAAAAAAAAAoAA4AAQAAAAAAAAAxAA0AAQAAAAAAAAAyAA0AAQAAAAAAAAAzAA0AAQAAAAAAAAApAAkAAQAAAAAAAAAqAAkAAQAAAAAAAAArAAkAAQAAAAAAAAAsAAkAAQAAAAAAAAAtAAkAAQAAAAAAAAAuAAkAAQAAAAAAAAAvAAkAAQAAAAAAAAAwAAkAAQAAAAAAAAAxAA4AAQAAAAAAAAA0AA0AAQAAAAAAAAA1AA0AAQAAAAAAAAA2AA0AAQAAAAAAAAAIAAkAAQAAAAAAAAAHAAkAAQAAAAAAAAAHAAUAAQAAAAAAAAAIAAUAAQAAAAAAAAAJAAUAAQAAAAAAAAAHAAYAAQAAAAAAAAAHAAcAAQAAAAAAAAAHAAgAAQAAAAAAAAAbAAUAAQAAAAAAAAAcAAUAAQAAAAAAAAAdAAUAAQAAAAAAAAAeAAUAAQAAAAAAAAAfAAUAAQAAAAAAAAAfAAYAAQAAAAAAAAAfAAcAAQAAAAAAAAAfAAgAAQAAAAAAAAArAAUAAQAAAAAAAAArAAYAAQAAAAAAAAArAAcAAQAAAAAAAAArAAgAAQAAAAAAAAAtAAUAAQAAAAAAAAAtAAYAAQAAAAAAAAAtAAcAAQAAAAAAAAAtAAgAAQAAAAAAAAAvAAUAAQAAAAAAAAAvAAYAAQAAAAAAAAAvAAcAAQAAAAAAAAAvAAgAAQAAAAAAAAArAAAAAQAAAAAAAAArAAEAAQAAAAAAAAArAAIAAQAAAAAAAAArAAMAAQAAAAAAAAAtAAAAAQAAAAAAAAAtAAEAAQAAAAAAAAAtAAIAAQAAAAAAAAAtAAMAAQAAAAAAAAAvAAAAAQAAAAAAAAAvAAEAAQAAAAAAAAAvAAIAAQAAAAAAAAAvAAMAAQAAAAAAAAAiAAUAAQAAAAAAAAAiAAYAAQAAAAAAAAAiAAcAAQAAAAAAAAAiAAgAAQAAAAAAAAASAA4AAQAAAAAAAAATAA4AAQAAAAAAAAAUAA4AAQAAAAAAAAAkAA4AAQAAAAAAAAAlAA4AAQAAAAAAAAAmAA4AAQAAAAAAAAAnAA4AAQAAAAAAAAAyAA4AAQAAAAAAAAAzAA4AAQAAAAAAAAA0AA4AAQAAAAAAAAA1AA4AAQAAAAAAAAA2AA4AAQAAAAAAAAAdAA4AAQAAAAAAAAAeAA4AAQAAAAAAAAAhAA4AAQAAAAAAAAAiAA4AAQAAAAAAAAApAA4AAQAAAAAAAAAqAA4AAQAAAAAAAAArAA4AAQAAAAAAAAAsAA4AAQAAAAAAAAAtAA4AAQAAAAAAAAAuAA4AAQAAAAAAAAAvAA4AAQAAAAAAAAAwAA4AAQAAAAAAAAA2AAwAAQAAAAAAAAA2AAsAAQAAAAAAAAA2AAoAAQAAAAAAAAA2AAkAAQAAAAAAAAA2AAgAAQAAAAAAAAA2AAcAAQAAAAAAAAA3AAcAAQAAAAAAAAA4AA0AAQAAAAAAAAA5AA0AAQAAAAAAAAA6AA0AAQAAAAAAAAA7AA0AAQAAAAAAAAA8AA0AAQAAAAAAAAA9AA0AAQAAAAAAAAA+AA0AAQAAAAAAAAA/AA0AAQAAAAAAAABAAA0AAQAAAAAAAABBAA0AAQAAAAAAAABCAA0AAQAAAAAAAABDAA0AAQAAAAAAAABEAA0AAQAAAAAAAABEAA4AAQAAAAAAAABDAA4AAQAAAAAAAABCAA4AAQAAAAAAAABBAA4AAQAAAAAAAABAAA4AAQAAAAAAAAA/AA4AAQAAAAAAAAA+AA4AAQAAAAAAAAA9AA4AAQAAAAAAAAA8AA4AAQAAAAAAAAA7AA4AAQAAAAAAAAA6AA4AAQAAAAAAAAA5AA4AAQAAAAAAAAA4AA4AAQAAAAAAAAA3AA4AAQAAAAAAAAA3AA0AAQAAAAAAAAA3AAwAAQAAAAAAAAA3AAsAAQAAAAAAAAA3AAoAAQAAAAAAAAA3AAkAAQAAAAAAAAA3AAgAAQAAAAAAAAA4AAsAAQAAAAAAAAA4AAoAAQAAAAAAAAA4AAkAAQAAAAAAAAA4AAgAAQAAAAAAAAA4AAcAAQAAAAAAAAA4AAwAAQAAAAAAAABHAAcAAQAAAAAAAABHAAgAAQAAAAAAAABHAAkAAQAAAAAAAABHAAoAAQAAAAAAAABHAAsAAQAAAAAAAABHAAwAAQAAAAAAAABHAA0AAQAAAAAAAABHAA4AAQAAAAAAAABGAA4AAQAAAAAAAABFAA4AAQAAAAAAAABFAA0AAQAAAAAAAABGAA0AAQAAAAAAAABIAA4AAQAAAAAAAABIAA0AAQAAAAAAAABIAAwAAQAAAAAAAABIAAsAAQAAAAAAAABIAAoAAQAAAAAAAABIAAkAAQAAAAAAAABIAAgAAQAAAAAAAABIAAcAAQAAAAAAAABIAAYAAQAAAAAAAABIAAUAAQAAAAAAAABJAAUAAQAAAAAAAABJAAYAAQAAAAAAAABJAAcAAQAAAAAAAABJAAgAAQAAAAAAAABJAAkAAQAAAAAAAABJAAoAAQAAAAAAAABJAAsAAQAAAAAAAABJAAwAAQAAAAAAAABJAA0AAQAAAAAAAABJAA4AAQAAAAAAAAAqAAMAAQAAAAAAAAAVAA4AAQAAAAAAAAAWAA4AAQAAAAAAAAAXAA0AAQAAAAAAAAAXAA4AAQAAAAAAAAAeAA8AAQAAAAAAAAAeABAAAQAAAAAAAAAfABAAAQAAAAAAAAAgABAAAQAAAAAAAAAgAA8AAQAAAAAAAAAhAA8AAQAAAAAAAAAaAA8AAQAAAAAAAAAaABAAAQAAAAAAAAAZABAAAQAAAAAAAAAYABAAAQAAAAAAAAAXABAAAQAAAAAAAAAXAA8AAQAAAAAAAAAbAAwAAQAAAAAAAAAbAA0AAQAAAAAAAAAbAA4AAQAAAAAAAAAbAA8AAQAAAAAAAAAbABAAAQAAAAAAAAALAA4AAQAAAAAAAAARAAkAAQAAAAAAAAACAAYAAQAAAAAAAAACAAcAAQAAAAAAAAACAAgAAQAAAAAAAAACAAkAAQAAAAAAAAADAAkAAQAAAAAAAAAEAAkAAQAAAAAAAAACAAMAAQAAAAAAAAACAAQAAQAAAAAAAAACAAUAAQAAAAAAAAACAAIAAQAAAAAAAAAdAAMAAQAAAAAAAAAeAAMAAQAAAAAAAAAjAAUAAQAAAAAAAAAkAAUAAQAAAAAAAAAlAAUAAQAAAAAAAAAlAAQAAQAAAAAAAAAlAAMAAQAAAAAAAAAlAAIAAQAAAAAAAAAkAAIAAQAAAAAAAAAlAAEAAQAAAAAAAAAlAAAAAQAAAAAAAAAkAAAAAQAAAAAAAAAjAAAAAQAAAAAAAAAiAAAAAQAAAAAAAAAhAAAAAQAAAAAAAAAgAAAAAQAAAAAAAAAfAAAAAQAAAAAAAAAeAAAAAQAAAAAAAAAWAAUAAQAAAAAAAAAaAAQAAQAAAAAAAAAdAAQAAQAAAAAAAAAaAAUAAQAAAAAAAAAOAAoAAQAAAAAAAAA=")
tile_set = SubResource("TileSet_d7yf6")

[node name="Mario" parent="TestNode2D" instance=ExtResource("9_hgnsp")]
unique_name_in_owner = true
position = Vector2(720, 148)

[node name="TestCamera2D" type="Camera2D" parent="TestNode2D/Mario"]
limit_left = 0
limit_top = 0
limit_bottom = 544
metadata/_edit_lock_ = true

[node name="Solid" type="Node2D" parent="TestNode2D"]

[node name="Obstacle" parent="TestNode2D/Solid" instance=ExtResource("2_676rr")]
position = Vector2(576, 253)

[node name="Obstacle2" parent="TestNode2D/Solid" instance=ExtResource("2_676rr")]
position = Vector2(640, 254)

[node name="Obstacle3" parent="TestNode2D/Solid" instance=ExtResource("2_676rr")]
position = Vector2(864, 376)

[node name="Obstacle4" parent="TestNode2D/Solid" instance=ExtResource("2_676rr")]
position = Vector2(64, 53)

[node name="DebugWaterArea2D" type="Area2D" parent="TestNode2D" groups=["water"]]
collision_layer = 64
collision_mask = 56

[node name="CollisionShape2D" type="CollisionShape2D" parent="TestNode2D/DebugWaterArea2D"]
position = Vector2(784, 320)
shape = SubResource("RectangleShape2D_la3m6")
debug_color = Color(0, 0.26666668, 0.69803923, 0.41960785)

[node name="ColorRect" type="ColorRect" parent="TestNode2D/DebugWaterArea2D"]
self_modulate = Color(1, 1, 1, 0.6)
offset_left = 736.0
offset_top = 288.0
offset_right = 832.0
offset_bottom = 352.0
color = Color(0.17254902, 0.28627452, 0.46666667, 1)

[node name="Water" parent="TestNode2D" node_paths=PackedStringArray("_camera") instance=ExtResource("11_o3hmp")]
position = Vector2(0, 448)
_camera = NodePath("../Mario/TestCamera2D")

[node name="Enemies" type="Node2D" parent="TestNode2D"]

[node name="Spike" parent="TestNode2D/Enemies" instance=ExtResource("13_dhetq")]
position = Vector2(752, 400)

[node name="Spike2" parent="TestNode2D/Enemies" instance=ExtResource("13_dhetq")]
position = Vector2(432, 432)

[node name="SpikePiranha" parent="TestNode2D/Enemies" instance=ExtResource("14_ii7j2")]
position = Vector2(112, 432)

[node name="SpikePiranha2" parent="TestNode2D/Enemies" instance=ExtResource("14_ii7j2")]
position = Vector2(144, 432)

[node name="Goomba" parent="TestNode2D/Enemies" instance=ExtResource("16_lgciv")]
position = Vector2(1264, 400)

[node name="Goomba2" parent="TestNode2D/Enemies" instance=ExtResource("16_lgciv")]
position = Vector2(484, 368)

[node name="SpikePiranha3" parent="TestNode2D/Enemies" instance=ExtResource("14_ii7j2")]
position = Vector2(1040, 240)

[node name="Mushroom" parent="TestNode2D/Enemies" instance=ExtResource("17_venmc")]
position = Vector2(976, 80)

[node name="Powerups" type="Node2D" parent="TestNode2D"]

[node name="FireFlower" parent="TestNode2D/Powerups" instance=ExtResource("17_d2gt5")]
position = Vector2(176, 432)

[node name="FireFlower2" parent="TestNode2D/Powerups" instance=ExtResource("17_d2gt5")]
position = Vector2(1168, 48)

[node name="FireFlower3" parent="TestNode2D/Powerups" instance=ExtResource("17_d2gt5")]
position = Vector2(400, 432)

[node name="Beetroot" parent="TestNode2D/Powerups" instance=ExtResource("18_6xv5h")]
position = Vector2(304, 432)

[node name="Beetroot2" parent="TestNode2D/Powerups" instance=ExtResource("18_6xv5h")]
position = Vector2(240, 432)

[node name="Lui" parent="TestNode2D/Powerups" instance=ExtResource("19_iae4c")]
position = Vector2(464, 208)

[node name="Lui3" parent="TestNode2D/Powerups" instance=ExtResource("19_iae4c")]
position = Vector2(304, 144)

[node name="Lui4" parent="TestNode2D/Powerups" instance=ExtResource("19_iae4c")]
position = Vector2(304, 144)

[node name="PoisonousMushroom" parent="TestNode2D" instance=ExtResource("21_dwm8j")]
position = Vector2(944, 80)
